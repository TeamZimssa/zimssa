<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssafy.zimssa.maemae.model.mapper.MaemaeMapper">

    <resultMap id="MaemaeResultMap" type="Maemae">
        <result property="sggCd" column="sgg_cd"/>
        <result property="buildYear" column="build_year"/>
        <result property="bldgArea" column="bldg_area"/>
        <result property="bjdongCd" column="bjdong_cd"/>
        <result property="sggNm" column="sgg_nm"/>
        <result property="landGbn" column="land_gbn"/>
        <result property="bubeon" column="bubeon"/>
        <result property="cntlYmd" column="cntl_ymd"/>
        <result property="bjdongNm" column="bjdong_nm"/>
        <result property="rightGbn" column="right_gbn"/>
        <result property="objAmt" column="obj_amt"/>
        <result property="rdealerLawdnm" column="rdealer_lawdnm"/>
        <result property="bldgNm" column="bldg_nm"/>
        <result property="houseType" column="house_type"/>
        <result property="floor" column="floor"/>
        <result property="accYear" column="acc_year"/>
        <result property="landGbnNm" column="land_gbn_nm"/>
        <result property="totArea" column="tot_area"/>
        <result property="reqGbn" column="req_gbn"/>
        <result property="bonbeon" column="bonbeon"/>
        <result property="dealYmd" column="deal_ymd"/>
        <result property="lat" column="lat"/>
        <result property="lng" column="lng"/>
        <result property="apiBuildingName" column="api_building_name"/>
    </resultMap>

    <select id="findAllByGu" parameterType="String" resultMap="MaemaeResultMap">
        SELECT
            sgg_nm,
            bjdong_nm,
            bldg_nm
        FROM
            maemae_info
        WHERE
            sgg_cd = #{sggCd}
    </select>

    <select id="findAllByDong" parameterType="String" resultMap="MaemaeResultMap">
        SELECT DISTINCT
            sgg_nm,
            bjdong_nm,
            bldg_nm
        FROM
            maemae_info
        WHERE
            sgg_cd = #{sggCd} AND bjdong_cd = #{bjdongCd}
    </select>

</mapper>
